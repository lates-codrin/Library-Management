<Page
    x:Class="Library_Management_System.Views.Pages.DashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:vm="clr-namespace:Library_Management_System.ViewModels.Pages"
    d:DataContext="{d:DesignInstance local:DataPage,
                                 IsDesignTimeCreatable=False}"
d:DesignHeight="450"
d:DesignWidth="800"
ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    mc:Ignorable="d">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20">
            <lvc:PieChart Series="{Binding ViewModel.LentGauge}" Width="250" Height="250" InitialRotation="-90" MaxValue="100" />
            <lvc:PieChart Series="{Binding ViewModel.ReturnedGauge}" Width="250" Height="250" InitialRotation="-90" MaxValue="100" />
            <lvc:PieChart Series="{Binding ViewModel.InStorageGauge}" Width="250" Height="250" InitialRotation="-90" MaxValue="100" />
        </StackPanel>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
            <TextBlock Text="Lent: " Margin="10,0" />
            <TextBlock Text="{Binding ViewModel.BooksLentCount}" Margin="5,0" />
            <TextBlock Text="Returned: " Margin="10,0" />
            <TextBlock Text="{Binding ViewModel.BooksReturnedCount}" Margin="5,0" />
            <TextBlock Text="Not Returned: " Margin="10,0" />
            <TextBlock Text="{Binding ViewModel.BooksNotReturnedCount}" Margin="5,0" />
        </StackPanel>

        <Button Grid.Row="2" Content="Refresh" Command="{Binding ViewModel.RefreshCommand}" Margin="0,20" HorizontalAlignment="Center" />
    </Grid>
</Page>